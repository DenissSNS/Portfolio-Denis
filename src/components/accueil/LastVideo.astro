---
import "./lastVideo.scss"

import { getLangFromUrl, useTranslations } from '../../i18n/utils';
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const response = await fetch('https://www.googleapis.com/youtube/v3/videos?id=jx1CSEI-ato&key=AIzaSyCl7q3lbuvDV1hKdpAVuUTkkWUv1zYlBBc&part=snippet,statistics');
const data = await response.json();

---	

<div  class="lastVideo">

	<div class="titre">
		<h3>{t('video.title1')}</h3>
		<h3>{t('video.title2')}</h3>	
	</div>

	<div class="container-video">
		<a href=`https://www.youtube.com/watch/${data.items[0].id}` target="_blank" rel="noopener noreferrer">
			<img src={data.items[0].snippet.thumbnails.high.url} alt="thumbnail" class="thumbnail">
		</a>

		<div class="info">
			<a href=`https://www.youtube.com/@denisSNS` target="_blank">
				<img src="/logo.png" alt="main-logo">
			</a>
			<div>
				<h4>{data.items[0].snippet.title}</h4>
				<p>{data.items[0].statistics.viewCount} vues Â· {data.items[0].snippet.publishedAt}</p>
			</div>
		</div>

		<p class="descri">{data.items[0].snippet.description}</p>
	</div>

	<div class="bottom">
		<a href=`https://www.youtube.com/watch/${data.items[0].id}` target="_blank" rel="noopener noreferrer">
			<img class="right" src="/icons/main-arrow.svg" alt="arrow" width="16px" height="15px" />
		</a>
	</div>

</div>