---
import "./lastVideo.scss"

import { getLangFromUrl, useTranslations } from '../../i18n/utils';
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

// api: AIzaSyCl7q3lbuvDV1hKdpAVuUTkkWUv1zYlBBc
// https://developers.google.com/youtube/v3/getting-started?hl=fr

// URL: https://www.googleapis.com/youtube/v3/videos?id=7lCDEYXw3mM&key=AIzaSyCl7q3lbuvDV1hKdpAVuUTkkWUv1zYlBBc
//      &part=snippet,contentDetails,statistics

// https://docs.astro.build/en/guides/data-fetching/


// const response = await fetch('https://www.googleapis.com/youtube/v3/videos?id=jx1CSEI-ato&key=AIzaSyCl7q3lbuvDV1hKdpAVuUTkkWUv1zYlBBc&part=snippet,statistics');
// const data = await response.json();
// console.log(data.items[0].snippet.thumbnails.high.url)

---	

<div class="lastVideo">
	<div class="titre">
		<h3>{t('video.title1')}</h3>
		<h3>{t('video.title2')}</h3>	
	</div>

	<!-- <div class="container-video">
		<iframe src=`https://www.youtube.com/embed/${data.items[0].id}` title="video" allowfullscreen></iframe>
		<p>nb views : {data.items[0].statistics.viewCount}</p>
		<p>channel id: {data.items[0].snippet.channelId}</p>
		<p>channel title: {data.items[0].snippet.channelTitle}</p>
		<p>titre : {data.items[0].snippet.title}</p>
		<p>description : {data.items[0].snippet.description}</p>
		<p>date : {data.items[0].snippet.publishedAt}</p>
		<img src={data.items[0].snippet.thumbnails.high.url} alt="thumbnail">
	</div> -->

	<div class="bottom">
		<img class="right" src="/icons/main-arrow.svg" alt="arrow" width="16px" height="15px" />
	</div>

</div>